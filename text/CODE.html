<link type="text/css" rel="stylesheet" href="../css/code.css" media="all" />
<div class="included">
    // KODELIFE

    #version 150

    uniform float time;
    uniform vec2 resolution;
    uniform vec2 mouse;

    in VertexData{ vec4 v_position; vec3 v_normal; vec2 v_texcoord; }inData;
    out vec4 fragColor;

    vec4 Circle(vec2 p, float r, float w, float s){
        float d = length(p);
        float h = w;
        float e = r*s;
        float m = smoothstep(r-h-e,r-h,d)-smoothstep(r+h,r+h+e,d);
        return vec4(m);}

    vec4 Shader(vec2 p, vec2 mouse){
        vec4 col = vec4(0.);
        float a = 3.1415*.75;
        p *= mat2(cos(a),-sin(a),sin(a),cos(a));
        p.x += .5;
        p *= 5.;
        vec2 q = fract(p)-.5;
        q = abs(q);
        q *= q/max(q.x,q.y);

        float r = sin(time/2.)*.125+.15;
        float w = mouse.x/7.;
        float s = .01;

        col += Circle(q*q,r,w,s);
        q -= .5;
        col += Circle(q*q,r,w,s);
        return col;}

    void main(void){
        vec2 uv = (gl_FragCoord.xy-.5*resolution.xy)/resolution.y;
        vec4 col = vec4(0.);
        col += Shader(uv, mouse);
        fragColor = col;}
</div>
